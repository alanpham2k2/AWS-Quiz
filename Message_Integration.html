<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      ul,
      ol {
        font-size: 16px;
        font-weight: 400;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      code {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .quiz-content {
        padding: 2.4rem;
        word-break: break-word;
        max-width: 86rem;
        margin: 0 auto;
      }
      .quiz-container {
        margin: 0 auto;
        max-width: 84rem;
        padding: 0;
      }
      .question {
        margin-bottom: 5rem;
      }
      .question span {
        font-size: 24px;
        font-weight: 700;
      }
      .question-prompt {
        margin-top: 0.8rem;
        font-weight: 700;
      }
      .question-answer {
        margin-top: 1.6rem;
        padding-left: 0;
        box-sizing: border-box;
      }
      .question-answer label {
        max-width: 80rem;
        position: relative;
        cursor: pointer;
        display: flex;
        min-width: 18rem;
        border: solid #1c1d1f 2px;
      }
      .question-answer div {
        display: flex;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }
      .question-answer div:hover {
        background-color: #f5f5f5;
      }
      .question-answer input {
        display: none;
      }
      .question-answer span {
        width: 1rem;
        height: 1rem;
        margin-right: 1.6rem;
        top: 0;
        border-radius: 50%;
        display: inline-block;
        flex-shrink: 0;
        border: 0.2rem solid #1c1d1f;
        position: relative;
      }
      .selected {
        background: #1c1d1f;
        box-shadow: 0 0 0 0.4rem #fff inset;
      }
      .score {
              position: fixed;
            }
    </style>
  </head>

  <body onload="main()">
    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {"pass_percent": 70, "questions": [{"_class": "assessment", "id": 37594567, "assessment_type": "multiple-choice", "prompt": {"question": "<p>You have an e-commerce website and you are preparing for Black Friday which is the biggest sale of the year. You expect that your traffic will increase by 100x. Your website already using an SQS Standard Queue, and you're running a fleet of EC2 instances in an Auto Scaling Group to consume SQS messages. What should you do to prepare your SQS Queue?</p>", "relatedLectureIds": "", "feedbacks": ["", "", "", ""], "answers": ["<p>Contact AWS Support to pre-warm your SQS Standard Queue</p>", "<p>Enable Auto Scaling in your SQS queue</p>", "<p>Increase the capacity of the SQS queue</p>", "<p>Do nothing, SQS scales automatically</p>"]}, "correct_response": ["d"], "section": "", "question_plain": "You have an e-commerce website and you are preparing for Black Friday which is the biggest sale of the year. You expect that your traffic will increase by 100x. Your website already using an SQS Standard Queue, and you're running a fleet of EC2 instances in an Auto Scaling Group to consume SQS messages. What should you do to prepare your SQS Queue?", "related_lectures": []}, {"_class": "assessment", "id": 37594577, "assessment_type": "multiple-choice", "prompt": {"relatedLectureIds": "", "question": "<p>You have an SQS Queue where each consumer polls 10 messages at a time and finishes processing them in 1 minute. After a while, you noticed that the same SQS messages are received by different consumers resulting in your messages being processed more than once. What should you do to resolve this issue?</p>", "feedbacks": ["When SQS Long Polling is enabled, Amazon SQS reducing the number of empty responses when there are no messages available to return and eliminating false empty responses (when SQS messages are available but aren't included in a response).", "SQS Delay Queues is a period of time during which Amazon SQS keeps new SQS messages invisible to consumers. In SQS Delay Queues, a message is hidden when it is first added to the queue. (default: 0 mins, max.: 15 mins)", "SQS Visibility Timeout is a period of time during which Amazon SQS prevents other consumers from receiving and processing the message again. In Visibility Timeout, a message is hidden only after it is consumed from the queue. Increasing the Visibility Timeout gives more time to the consumer to process the message and prevent duplicate reading of the message. (default: 30 sec., min.: 0 sec., max.: 12 hours)", ""], "answers": ["<p>Enable Long Polling</p>", "<p>Add <code>DelaySeconds</code> parameter to the messages when being produced</p>", "<p>Increase the Visibility Timeout</p>", "<p>Decrease the Visibility Timeout</p>"]}, "correct_response": ["c"], "section": "", "question_plain": "You have an SQS Queue where each consumer polls 10 messages at a time and finishes processing them in 1 minute. After a while, you noticed that the same SQS messages are received by different consumers resulting in your messages being processed more than once. What should you do to resolve this issue?", "related_lectures": []}, {"_class": "assessment", "id": 37594733, "assessment_type": "multiple-choice", "prompt": {"feedbacks": ["SQS Standard Queue doesn't have ordering capability and doesn't guarantee to process your messages exactly once.", "SQS Dead Letter Queue is where other SQS queues (source queues) can send messages that can't be processed (consumed) successfully. It's useful for debugging as it allows you to isolate problematic messages so you can debug why their processing doesn't succeed.", "SQS Delay Queues is a period of time during which Amazon SQS keeps new SQS messages invisible to consumers. In SQS Delay Queues, a message is hidden when it is first added to the queue. (default: 0 mins, max.: 15 mins)", "SQS FIFO (First-In-First-Out) Queues have all the capabilities of the SQS Standard Queue, plus the following two features. First, The order in which messages are sent and received are strictly preserved and a message is delivered once and remains available until a consumer process and deletes it. Second, duplicated messages are not introduced into the queue."], "answers": ["<p>SQS Standard Queue</p>", "<p>SQS Dead Letter Queue</p>", "<p>SQS Delay Queue</p>", "<p>SQS FIFO Queue</p>"], "relatedLectureIds": "", "question": "<p>Which SQS Queue type allows your messages to be processed exactly once and in order?</p>"}, "correct_response": ["d"], "section": "", "question_plain": "Which SQS Queue type allows your messages to be processed exactly once and in order?", "related_lectures": []}, {"_class": "assessment", "id": 37594741, "assessment_type": "multiple-choice", "prompt": {"relatedLectureIds": "", "answers": ["<p>Use SQS Replication Feature</p>", "<p>Use SNS + SQS Fan Out Pattern</p>", "<p>Send messages individually to 3 SQS queues</p>"], "question": "<p>You have 3 different applications that you'd like to send them the same message. All 3 applications are using SQS. What is the best approach would you choose?</p>", "feedbacks": ["There's no such feature.", "This is a common pattern where only one message is sent to the SNS topic and then \"fan-out\" to multiple SQS queues. This approach has the following features: it's fully decoupled, no data loss, and you have the ability to add more SQS queues (more applications) over time.", "This is not a common pattern and doesn't scale well."]}, "correct_response": ["b"], "section": "", "question_plain": "You have 3 different applications that you'd like to send them the same message. All 3 applications are using SQS. What is the best approach would you choose?", "related_lectures": []}, {"_class": "assessment", "id": 37594751, "assessment_type": "multiple-choice", "prompt": {"relatedLectureIds": "", "feedbacks": ["The capacity limits of a Kinesis data stream are defined by the number of shards within the data stream. The limits can be exceeded by either data throughput or the number of reading data calls. Each shard allows for 1 MB/s incoming data and 2 MB/s outgoing data. You should increase the number of shards within your data stream to provide enough capacity.", "Unfortunately, this feature doesn't exist!", "This is not a good design."], "question": "<p>You have a Kinesis data stream with 6 shards provisioned. This data stream usually receiving 5 MB/s of data and sending out 8 MB/s. Occasionally, your traffic spikes up to 2x and you get a <code>ProvisionedThroughputExceeded</code> exception. What should you do to resolve the issue?</p>", "answers": ["<p>Add more Shards</p>", "<p>Enable Kinesis Replication</p>", "<p>Use SQS as a buffer to Kinesis</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "You have a Kinesis data stream with 6 shards provisioned. This data stream usually receiving 5 MB/s of data and sending out 8 MB/s. Occasionally, your traffic spikes up to 2x and you get a ProvisionedThroughputExceeded exception. What should you do to resolve the issue?", "related_lectures": []}, {"_class": "assessment", "id": 37594761, "assessment_type": "multiple-choice", "prompt": {"question": "<p>You have a website where you want to analyze clickstream data such as the sequence of clicks a user makes, the amount of time a user spends, and where the navigation begins and how it ends. You decided to use Amazon Kinesis, so you have configured the website to send these clickstream data all the way to a Kinesis data stream. While you checking the data sent to your Kinesis data stream, you found that the users' data is not ordered and the data for one individual user is spread across many shards. How would you fix this problem?</p>", "relatedLectureIds": "", "feedbacks": ["Using 1 shard would guarantee total ordering but wouldn't allow us to scale.", "This wouldn't allow us to scale.", "Kinesis Data Stream uses the partition key associated with each data record to determine which shard a given data record belongs to. When you use the identity of each user as the partition key, this ensures the data for each user is ordered hence sent to the same shard."], "answers": ["<p>There are too many shards, you should only use 1 shard</p>", "<p>You shouldn't use multiple consumers, only one and it should re-order data</p>", "<p>For each record sent to Kinesis add a partition key that represents the identity of the user</p>"]}, "correct_response": ["c"], "section": "", "question_plain": "You have a website where you want to analyze clickstream data such as the sequence of clicks a user makes, the amount of time a user spends, and where the navigation begins and how it ends. You decided to use Amazon Kinesis, so you have configured the website to send these clickstream data all the way to a Kinesis data stream. While you checking the data sent to your Kinesis data stream, you found that the users' data is not ordered and the data for one individual user is spread across many shards. How would you fix this problem?", "related_lectures": []}, {"_class": "assessment", "id": 37594871, "assessment_type": "multiple-choice", "prompt": {"question": "<p>You are running an application that produces a large amount of real-time data that you want to load into S3 and Redshift. Also, these data need to be transformed before being delivered to their destination. What is the best architecture would you choose?</p>", "relatedLectureIds": "", "answers": ["<p>SQS + AWS Lambda</p>", "<p>SNS + HTTP Endpoint</p>", "<p>Kinesis Data Streams + Kinesis Data Firehose</p>"], "feedbacks": ["This doesn't have a direct integration with S3 or Redshift.", "This doesn't have a direct integration with S3 or Redshift.", "This is a perfect combo of technology for loading data near real-time data into S3 and Redshift. Kinesis Data Firehose supports custom data transformations using AWS Lambda."]}, "correct_response": ["c"], "section": "", "question_plain": "You are running an application that produces a large amount of real-time data that you want to load into S3 and Redshift. Also, these data need to be transformed before being delivered to their destination. What is the best architecture would you choose?", "related_lectures": []}, {"_class": "assessment", "id": 37594953, "assessment_type": "multiple-choice", "prompt": {"question": "<p>Which of the following is <strong>NOT</strong> a supported subscriber for AWS SNS?</p>", "relatedLectureIds": "", "feedbacks": ["Note: Kinesis Data Firehose is now supported, but not Kinesis Data Streams.", "", "", ""], "answers": ["<p>Amazon Kinesis Data Streams</p>", "<p>Amazon SQS</p>", "<p>HTTP(S) Endpoint</p>", "<p>AWS Lambda</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "Which of the following is NOT a supported subscriber for AWS SNS?", "related_lectures": []}, {"_class": "assessment", "id": 37595037, "assessment_type": "multiple-choice", "prompt": {"relatedLectureIds": "", "answers": ["<p>Amazon SQS with AWS Lambda</p>", "<p>Amazon SNS</p>", "<p>Amazon Kinesis</p>"], "feedbacks": ["You would be re-implementing a feature from SNS.", "", "Amazon Kinesis on its own can not send emails. You would need to chain it with a consumer, and in the end, you would re-create something like SNS."], "question": "<p>Which AWS service helps you when you want to send email notifications to your users?</p>"}, "correct_response": ["b"], "section": "", "question_plain": "Which AWS service helps you when you want to send email notifications to your users?", "related_lectures": []}, {"_class": "assessment", "id": 37595047, "assessment_type": "multiple-choice", "prompt": {"relatedLectureIds": "", "feedbacks": ["Amazon SQS does not support the MQTT protocol.", "Amazon SNS does not support the MQTT protocol.", "Amazon Kinesis does not support the MQTT protocol.", "Amazon MQ supports industry-standard APIs such as JMS and NMS, and protocols for messaging, including AMQP, STOMP, MQTT, and WebSocket."], "answers": ["<p>Amazon SQS</p>", "<p>Amazon SNS</p>", "<p>Amazon Kinesis</p>", "<p>Amazon MQ</p>"], "question": "<p>You're running many micro-services applications on-premises and they communicate using a message broker that supports MQTT protocol. You're planning to migrate these applications to AWS without re-engineering the applications and modifying the code. Which AWS service allows you to get a managed message broker that supports the MQTT protocol?</p>"}, "correct_response": ["d"], "section": "", "question_plain": "You're running many micro-services applications on-premises and they communicate using a message broker that supports MQTT protocol. You're planning to migrate these applications to AWS without re-engineering the applications and modifying the code. Which AWS service allows you to get a managed message broker that supports the MQTT protocol?", "related_lectures": []}, {"_class": "assessment", "id": 51342406, "assessment_type": "multiple-choice", "prompt": {"question": "<p>An e-commerce company is preparing for a big marketing promotion that will bring millions of transactions. Their website is hosted on EC2 instances in an Auto Scaling Group and they are using Amazon Aurora as their database. The Aurora database has a bottleneck and a lot of transactions have been failed in the last promotion they have made as they had a lot of transaction and the Aurora database wasn\u2019t prepared to handle these too many transactions. What do you recommend to handle those transactions and prevent any failed transactions?</p>", "relatedLectureIds": "", "feedbacks": ["", "", ""], "answers": ["<p>Use SQS as a buffer to write to Aurora</p>", "<p>Host the website in AWS Fargate instead of EC2 instances</p>", "<p>Migrate Aurora to RDS for SQL Server</p>"]}, "correct_response": ["a"], "section": "", "question_plain": "An e-commerce company is preparing for a big marketing promotion that will bring millions of transactions. Their website is hosted on EC2 instances in an Auto Scaling Group and they are using Amazon Aurora as their database. The Aurora database has a bottleneck and a lot of transactions have been failed in the last promotion they have made as they had a lot of transaction and the Aurora database wasn\u2019t prepared to handle these too many transactions. What do you recommend to handle those transactions and prevent any failed transactions?", "related_lectures": []}, {"_class": "assessment", "id": 51345536, "assessment_type": "multiple-choice", "prompt": {"question": "<p>A company is using Amazon Kinesis Data Streams to ingest clickstream data and then do some analytical processes on it. There is a campaign in the next few days and the traffic is unpredictable which might grow up to 100x. What Kinesis Data Stream capacity mode do you recommend?</p>", "relatedLectureIds": "", "feedbacks": ["", ""], "answers": ["<p>Provisioned Mode</p>", "<p>On-demand Mode</p>"]}, "correct_response": ["b"], "section": "", "question_plain": "A company is using Amazon Kinesis Data Streams to ingest clickstream data and then do some analytical processes on it. There is a campaign in the next few days and the traffic is unpredictable which might grow up to 100x. What Kinesis Data Stream capacity mode do you recommend?", "related_lectures": []}]};
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions
      const passPercent = quizData.pass_percent

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].style.borderColor = "#1c1d1f";
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.style.borderColor =
                  "limegreen";
                // alert("Correct!");
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.style.borderColor = "red";
                // alert("Incorrect!");
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
